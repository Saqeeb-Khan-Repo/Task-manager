import{u as b,r as a,j as e}from"./index-D3vIhNd0.js";import{a as v}from"./index-B9ygI19o.js";const N=()=>{const{addTask:j}=b(),[g,l]=a.useState(!1),[i,d]=a.useState(""),[c,u]=a.useState(""),[o,m]=a.useState(""),[p,h]=a.useState("medium"),[k,n]=a.useState(""),[s,x]=a.useState(!1),f=()=>{d(""),u(""),m(""),h("medium")},D=async t=>{if(t.preventDefault(),!i.trim()||!o.trim()){n("Task name and due date are required.");return}x(!0),n("");try{const r=await v.post("https://task-backend-sgnw.onrender.com/create",{taskName:i.trim(),taskDescription:c.trim(),dueDate:o,priority:p.toLowerCase(),isCompleted:!1});j(r.data),console.log(r.data),f()}catch(r){n(r.response?.data?.error||"Failed to create task")}finally{x(!1)}l(!0),setTimeout(()=>l(!1),2e3)};return e.jsxs(e.Fragment,{children:[g&&e.jsx("div",{className:"popUp",children:"Task Added successfully"}),e.jsxs("div",{className:"create-task-container",children:[e.jsx("h2",{children:"Create New Task"}),k&&e.jsx("p",{className:"form-error",children:k}),e.jsxs("form",{className:"create-task-form",onSubmit:D,children:[e.jsx("label",{htmlFor:"taskName",children:"Task Name:"}),e.jsx("input",{id:"taskName",type:"text",value:i,onChange:t=>d(t.target.value),placeholder:"Enter your task name",required:!0,disabled:s}),e.jsx("label",{htmlFor:"taskDescription",children:"Task Description:"}),e.jsx("textarea",{id:"taskDescription",value:c,onChange:t=>u(t.target.value),placeholder:"Description",rows:3,disabled:s}),e.jsx("label",{htmlFor:"dueDate",children:"Due Date:"}),e.jsx("input",{id:"dueDate",type:"date",value:o,onChange:t=>m(t.target.value),required:!0,disabled:s}),e.jsx("label",{htmlFor:"priority",children:"Priority:"}),e.jsxs("select",{id:"priority",value:p,onChange:t=>h(t.target.value),disabled:s,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]}),e.jsx("button",{type:"submit",disabled:s,children:s?"Creating...":"Create Task"})]})]})]})};export{N as default};
