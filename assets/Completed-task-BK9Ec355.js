import{r as t,j as e}from"./index-VzbaiCQP.js";/* empty css             */import{a as x}from"./index-B9ygI19o.js";const f=()=>{const[l,d]=t.useState(""),[r,h]=t.useState("all"),[p,n]=t.useState(!0),[o,m]=t.useState([]);t.useEffect(()=>{(async()=>{try{const i=(await x.get("http://localhost:3000/tasks/completed")).data.filter(k=>k.isCompleted===!0);m(i),n(!1)}catch(a){console.error("Failed to fetch completed tasks:",a),n(!1)}})()},[]);const c=o.filter(s=>{const a=s.taskName.toLowerCase().includes(l.toLowerCase())||s.taskDescription?.toLowerCase().includes(l.toLowerCase())||!1,i=r==="all"||s.priority.toLowerCase()===r.toLowerCase();return a&&i});return p?e.jsx("div",{className:"task",children:e.jsx("div",{className:"task-container",children:e.jsx("p",{children:"Loading completed tasks..."})})}):e.jsx("div",{className:"task",children:e.jsxs("div",{className:"task-container",children:[e.jsxs("div",{className:"task-header-section",children:[e.jsx("h2",{className:"task-header",children:"Completed Tasks"}),e.jsxs("span",{className:"task-count",children:[c.length," of ",o.length," completed"]})]}),e.jsxs("div",{className:"task-filters",children:[e.jsx("input",{type:"text",className:"task-search",placeholder:"Search completed tasks...",value:l,onChange:s=>d(s.target.value)}),e.jsxs("select",{className:"task-select",value:r,onChange:s=>h(s.target.value),children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),c.length===0?e.jsx("p",{className:"task-empty",children:o.length===0?"No completed tasks yet. Complete some tasks first!":"No completed tasks match your filters."}):e.jsx("div",{className:"items-grid",children:c.map(s=>e.jsxs("div",{className:"item completed",children:[e.jsxs("div",{className:"task-header-content",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"task-title completed",children:s.taskName}),e.jsx("p",{className:"task-subtitle",children:s.taskDescription})]}),e.jsx("span",{className:`priority-badge priority-${s.priority.toLowerCase()}`,children:s.priority}),e.jsx("input",{type:"checkbox",className:"checkbox",checked:!0,disabled:!0})]}),e.jsx("div",{className:"task-footer",children:e.jsxs("span",{className:"task-date",children:["âœ… Completed on:"," ",new Date(s.updatedAt||s.dueDate).toLocaleDateString()]})})]},s._id||s.id))})]})})};export{f as default};
