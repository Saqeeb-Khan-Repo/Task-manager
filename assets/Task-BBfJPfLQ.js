import{g as W,u as J,r as y,j as r}from"./index-BmwvNf8b.js";/* empty css             */import{a as F}from"./index-B9ygI19o.js";var m={exports:{}};const H={},z=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),$=W(z),X="17.2.3",Z={version:X};var U;function ee(){if(U)return m.exports;U=1;var g={};const N=$,E=$,C=$,x=$,D=Z.version,w=["ğŸ” encrypt with Dotenvx: https://dotenvx.com","ğŸ” prevent committing .env to code: https://dotenvx.com/precommit","ğŸ” prevent building .env in docker: https://dotenvx.com/prebuild","ğŸ“¡ add observability to secrets: https://dotenvx.com/ops","ğŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops","ğŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops","âœ… audit secrets and track compliance: https://dotenvx.com/ops","ğŸ”„ add secrets lifecycle management: https://dotenvx.com/ops","ğŸ”‘ add access controls to secrets: https://dotenvx.com/ops","ğŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`","âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }","âš™ï¸  enable debug logging with { debug: true }","âš™ï¸  override existing env vars with { override: true }","âš™ï¸  suppress all logs with { quiet: true }","âš™ï¸  write to custom object with { processEnv: myObject }","âš™ï¸  load multiple .env files with { path: ['.env.local', '.env'] }"];function L(){return w[Math.floor(Math.random()*w.length)]}function v(e){return typeof e=="string"?!["false","0","no","off",""].includes(e.toLowerCase()):!!e}function T(){return process.stdout.isTTY}function j(e){return T()?`\x1B[2m${e}\x1B[0m`:e}const S=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function A(e){const n={};let a=e.toString();a=a.replace(/\r\n?/mg,`
`);let o;for(;(o=S.exec(a))!=null;){const i=o[1];let c=o[2]||"";c=c.trim();const t=c[0];c=c.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),t==='"'&&(c=c.replace(/\\n/g,`
`),c=c.replace(/\\r/g,"\r")),n[i]=c}return n}function O(e){e=e||{};const n=V(e);e.path=n;const a=u.configDotenv(e);if(!a.parsed){const t=new Error(`MISSING_DATA: Cannot parse ${n} for an unknown reason`);throw t.code="MISSING_DATA",t}const o=h(e).split(","),i=o.length;let c;for(let t=0;t<i;t++)try{const l=o[t].trim(),p=k(a,l);c=u.decrypt(p.ciphertext,p.key);break}catch(l){if(t+1>=i)throw l}return u.parse(c)}function b(e){console.error(`[dotenv@${D}][WARN] ${e}`)}function s(e){console.log(`[dotenv@${D}][DEBUG] ${e}`)}function d(e){console.log(`[dotenv@${D}] ${e}`)}function h(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:g.DOTENV_KEY&&g.DOTENV_KEY.length>0?g.DOTENV_KEY:""}function k(e,n){let a;try{a=new URL(n)}catch(l){if(l.code==="ERR_INVALID_URL"){const p=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw p.code="INVALID_DOTENV_KEY",p}throw l}const o=a.password;if(!o){const l=new Error("INVALID_DOTENV_KEY: Missing key part");throw l.code="INVALID_DOTENV_KEY",l}const i=a.searchParams.get("environment");if(!i){const l=new Error("INVALID_DOTENV_KEY: Missing environment part");throw l.code="INVALID_DOTENV_KEY",l}const c=`DOTENV_VAULT_${i.toUpperCase()}`,t=e.parsed[c];if(!t){const l=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${c} in your .env.vault file.`);throw l.code="NOT_FOUND_DOTENV_ENVIRONMENT",l}return{ciphertext:t,key:o}}function V(e){let n=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(const a of e.path)N.existsSync(a)&&(n=a.endsWith(".vault")?a:`${a}.vault`);else n=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else n=E.resolve(process.cwd(),".env.vault");return N.existsSync(n)?n:null}function R(e){return e[0]==="~"?E.join(C.homedir(),e.slice(1)):e}function B(e){const n=v(g.DOTENV_CONFIG_DEBUG||e&&e.debug),a=v(g.DOTENV_CONFIG_QUIET||e&&e.quiet);(n||!a)&&d("Loading env from encrypted .env.vault");const o=u._parseVault(e);let i=g;return e&&e.processEnv!=null&&(i=e.processEnv),u.populate(i,o,e),{parsed:o}}function M(e){const n=E.resolve(process.cwd(),".env");let a="utf8",o=g;e&&e.processEnv!=null&&(o=e.processEnv);let i=v(o.DOTENV_CONFIG_DEBUG||e&&e.debug),c=v(o.DOTENV_CONFIG_QUIET||e&&e.quiet);e&&e.encoding?a=e.encoding:i&&s("No encoding is specified. UTF-8 is used by default");let t=[n];if(e&&e.path)if(!Array.isArray(e.path))t=[R(e.path)];else{t=[];for(const f of e.path)t.push(R(f))}let l;const p={};for(const f of t)try{const _=u.parse(N.readFileSync(f,{encoding:a}));u.populate(p,_,e)}catch(_){i&&s(`Failed to load ${f} ${_.message}`),l=_}const Y=u.populate(o,p,e);if(i=v(o.DOTENV_CONFIG_DEBUG||i),c=v(o.DOTENV_CONFIG_QUIET||c),i||!c){const f=Object.keys(Y).length,_=[];for(const P of t)try{const I=E.relative(process.cwd(),P);_.push(I)}catch(I){i&&s(`Failed to load ${P} ${I.message}`),l=I}d(`injecting env (${f}) from ${_.join(",")} ${j(`-- tip: ${L()}`)}`)}return l?{parsed:p,error:l}:{parsed:p}}function G(e){if(h(e).length===0)return u.configDotenv(e);const n=V(e);return n?u._configVault(e):(b(`You set DOTENV_KEY but you are missing a .env.vault file at ${n}. Did you forget to build it?`),u.configDotenv(e))}function q(e,n){const a=Buffer.from(n.slice(-64),"hex");let o=Buffer.from(e,"base64");const i=o.subarray(0,12),c=o.subarray(-16);o=o.subarray(12,-16);try{const t=x.createDecipheriv("aes-256-gcm",a,i);return t.setAuthTag(c),`${t.update(o)}${t.final()}`}catch(t){const l=t instanceof RangeError,p=t.message==="Invalid key length",Y=t.message==="Unsupported state or unable to authenticate data";if(l||p){const f=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw f.code="INVALID_DOTENV_KEY",f}else if(Y){const f=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw f.code="DECRYPTION_FAILED",f}else throw t}}function Q(e,n,a={}){const o=!!(a&&a.debug),i=!!(a&&a.override),c={};if(typeof n!="object"){const t=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw t.code="OBJECT_REQUIRED",t}for(const t of Object.keys(n))Object.prototype.hasOwnProperty.call(e,t)?(i===!0&&(e[t]=n[t],c[t]=n[t]),o&&s(i===!0?`"${t}" is already defined and WAS overwritten`:`"${t}" is already defined and was NOT overwritten`)):(e[t]=n[t],c[t]=n[t]);return c}const u={configDotenv:M,_configVault:B,_parseVault:O,config:G,decrypt:q,parse:A,populate:Q};return m.exports.configDotenv=u.configDotenv,m.exports._configVault=u._configVault,m.exports._parseVault=u._parseVault,m.exports.config=u.config,m.exports.decrypt=u.decrypt,m.exports.parse=u.parse,m.exports.populate=u.populate,m.exports=u,m.exports}ee();const ne=()=>{const{tasks:g,setTasks:N}=J(),[E,C]=y.useState(""),[x,K]=y.useState("all"),[D,w]=y.useState(!0),[L,v]=y.useState(new Set),[T,j]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const d=await F.get("https://task-backend-sgnw.onrender.com/tasks");N(d.data),w(!1)}catch(d){console.error("Failed to fetch tasks:",d),w(!1)}})()},[N]),y.useEffect(()=>{if(!T)return;const s=setTimeout(()=>{j(!1)},2e3);return()=>clearTimeout(s)},[T]);const S=async(s,d)=>{v(h=>new Set([...h,s]));try{const h=await F.put(`https://task-backend-sgnw.onrender.com/tasks/${s}/toggle`,{isCompleted:!d});N(k=>k.map(V=>V._id===s?h.data:V)),d||j(!0)}catch(h){console.error("Failed to update task:",h)}finally{v(h=>{const k=new Set(h);return k.delete(s),k})}},A=async s=>{try{await F.delete(`https://task-backend-sgnw.onrender.com/tasks/${s}`),N(d=>d.filter(h=>h._id!==s)),console.log(`Deleted task: ${s}`)}catch(d){console.error("Delete failed:",d)}},O=g.filter(s=>!s.isCompleted),b=O.filter(s=>{const d=s.taskName.toLowerCase().includes(E.toLowerCase())||s.taskDescription?.toLowerCase().includes(E.toLowerCase()),h=x==="all"||s.priority.toLowerCase()===x.toLowerCase();return d&&h});return D?r.jsx("div",{className:"task",children:r.jsx("div",{className:"task-container",children:r.jsx("p",{children:"Loading tasks..."})})}):r.jsxs(r.Fragment,{children:[T&&r.jsx("div",{className:"popup",children:"Task Completed âœ…"}),r.jsx("div",{className:"task",children:r.jsxs("div",{className:"task-container",children:[r.jsxs("div",{className:"task-header-section",children:[r.jsx("h2",{className:"task-header",children:"Your Tasks"}),r.jsxs("span",{className:"task-count",children:[b.length," of ",O.length," pending tasks"]})]}),r.jsxs("div",{className:"task-filters",children:[r.jsx("input",{type:"text",className:"task-search",placeholder:"Search tasks...",value:E,onChange:s=>C(s.target.value)}),r.jsxs("select",{className:"task-select",value:x,onChange:s=>K(s.target.value),children:[r.jsx("option",{value:"all",children:"All Priorities"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]}),b.length===0?r.jsx("p",{className:"task-empty",children:O.length===0?"No pending tasks! ğŸ‰ Check completed tasks.":"No pending tasks match your filters."}):r.jsx("div",{className:"items-grid",children:b.map(s=>{const d=s._id||s.id,h=L.has(d);return r.jsxs("div",{className:"item",children:[r.jsxs("div",{className:"task-header-content",children:[r.jsxs("div",{className:"task-info",children:[r.jsx("h3",{className:"task-title",children:s.taskName}),r.jsx("p",{className:"task-subtitle",children:s.taskDescription})]}),r.jsx("div",{className:"task-actions",children:r.jsx("span",{className:`priority-badge priority-${s.priority.toLowerCase()}`,children:s.priority})})]}),r.jsxs("div",{className:"task-footer",children:[r.jsxs("span",{className:"task-date",children:["ğŸ“… Due: ",new Date(s.dueDate).toLocaleDateString()]}),r.jsxs("div",{className:"task-actions-footer",children:[r.jsx("button",{className:`complete-btn ${h?"loading":""}`,onClick:()=>S(d,s.isCompleted||!1),disabled:h,children:h?"â³ Saving...":"Complete"}),r.jsx("button",{className:"delete",onClick:()=>A(d),children:"Delete"})]})]})]},d)})})]})})]})};export{ne as default};
