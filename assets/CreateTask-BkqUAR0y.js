import{u as D,r as a,j as e}from"./index-DcELaSDk.js";import{a as v}from"./index-B9ygI19o.js";const T=()=>{const{addTask:j}=D(),[f,n]=a.useState(!1),[i,d]=a.useState(""),[c,u]=a.useState(""),[o,m]=a.useState(""),[p,h]=a.useState("medium"),[x,l]=a.useState(""),[s,k]=a.useState(!1),g=()=>{d(""),u(""),m(""),h("medium")},b=async t=>{if(t.preventDefault(),!i.trim()||!o.trim()){l("Task name and due date are required.");return}k(!0),l("");try{const r=await v.post("https://task-backend-sgnw.onrender.com/create",{taskName:i.trim(),taskDescription:c.trim(),dueDate:o,priority:p.toLowerCase(),isCompleted:!1});j(r.data),console.log(r.data),g()}catch(r){l(r.response?.data?.error||"Failed to create task")}finally{k(!1)}n(!0),setTimeout(()=>n(!1),2e3)};return e.jsxs(e.Fragment,{children:[f&&e.jsx("div",{className:"popUp",children:"Task Added successfully"}),e.jsxs("div",{className:"create-task-container",children:[e.jsx("h2",{className:"font-bold text-3xl text-center ",children:"Create New Task"}),x&&e.jsx("p",{className:"form-error",children:x}),e.jsxs("form",{className:"create-task-form",onSubmit:b,children:[e.jsx("label",{htmlFor:"taskName",children:"Task Name:"}),e.jsx("input",{id:"taskName",type:"text",value:i,onChange:t=>d(t.target.value),placeholder:"Enter your task name",required:!0,disabled:s}),e.jsx("label",{htmlFor:"taskDescription",children:"Task Description:"}),e.jsx("textarea",{id:"taskDescription",value:c,onChange:t=>u(t.target.value),placeholder:"Description",rows:3,disabled:s}),e.jsx("label",{htmlFor:"dueDate",children:"Due Date:"}),e.jsx("input",{id:"dueDate",type:"date",value:o,onChange:t=>m(t.target.value),required:!0,disabled:s}),e.jsx("label",{htmlFor:"priority",children:"Priority:"}),e.jsxs("select",{id:"priority",value:p,onChange:t=>h(t.target.value),disabled:s,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]}),e.jsx("button",{type:"submit",disabled:s,children:s?"Creating...":"Create Task"})]})]})]})};export{T as default};
